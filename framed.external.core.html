<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>framed.external.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">External 0.1.0 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>framed</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>external</span></div></div></li><li class="depth-3 branch current"><a href="framed.external.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-3"><a href="framed.external.set.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>set</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="framed.external.core.html#var--.3Eset"><div class="inner"><span>-&gt;set</span></div></a></li><li class="depth-1"><a href="framed.external.core.html#var-aggregate-by"><div class="inner"><span>aggregate-by</span></div></a></li><li class="depth-1"><a href="framed.external.core.html#var-distinct"><div class="inner"><span>distinct</span></div></a></li><li class="depth-1"><a href="framed.external.core.html#var-intersection"><div class="inner"><span>intersection</span></div></a></li><li class="depth-1"><a href="framed.external.core.html#var-keyed-partition-by"><div class="inner"><span>keyed-partition-by</span></div></a></li><li class="depth-1"><a href="framed.external.core.html#var-set"><div class="inner"><span>set</span></div></a></li><li class="depth-1"><a href="framed.external.core.html#var-shuffle"><div class="inner"><span>shuffle</span></div></a></li><li class="depth-1"><a href="framed.external.core.html#var-sort"><div class="inner"><span>sort</span></div></a></li><li class="depth-1"><a href="framed.external.core.html#var-sort-by"><div class="inner"><span>sort-by</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">framed.external.core</h2><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var--.3Eset"><h3>-&gt;set</h3><div class="usage"><code>(-&gt;set path)</code></div><div class="doc"><pre class="plaintext">Construct an ExternalSet from a file path
</pre></div></div><div class="public anchor" id="var-aggregate-by"><h3>aggregate-by</h3><div class="usage"><code>(aggregate-by key-func coll)</code><code>(aggregate-by key-func map-func coll)</code><code>(aggregate-by key-func map-func batchsize coll)</code></div><div class="doc"><pre class="plaintext">Groups items in coll according to (key-func item) and uses map-func to
transform the final partition values. Returns a lazy seq of partitions,
of the form [k (map-func vs)]

Invariant: Output will be sorted with respect to key-func

Ex:
  (aggregate-by
    :user
    (fn [events] (count events))
    10000
    [{:user &quot;a&quot; :event &quot;Login&quot;}
     {:user &quot;b&quot; :event &quot;Signup&quot;}
     {:user &quot;a&quot; :event &quot;Purchase&quot;}
     {:user &quot;c&quot; :event &quot;Add To Cart&quot;}])
  ; =&gt; ([&quot;a&quot; 2] [&quot;b&quot; 1] [&quot;c&quot; 1])</pre></div></div><div class="public anchor" id="var-distinct"><h3>distinct</h3><div class="usage"><code>(distinct coll)</code></div><div class="doc"><pre class="plaintext">Return a sequence of distinct elements in coll.
Order of returned elements is undefined.</pre></div></div><div class="public anchor" id="var-intersection"><h3>intersection</h3><div class="usage"><code>(intersection s0 s1)</code><code>(intersection batchsize s0 s1)</code></div><div class="doc"><pre class="plaintext">Return the intersection of two comparable sequences as a lazy seq
Ex:
  (def s1 (external/set [1 2 3]))
  (def s2 (external/set [2 3 4 5]))
  (e/intersection s1 s2)
  ; =&gt; (2 3)</pre></div></div><div class="public anchor" id="var-keyed-partition-by"><h3>keyed-partition-by</h3><div class="usage"><code>(keyed-partition-by f coll)</code></div><div class="doc"><pre class="plaintext">Applies f to each value in coll, splitting on each different f value.
Returns a lazy seq of pairs, each containing the split value and the seq
of values in the partition

Note: lazy in the partitions produced. To accomplish this, f is applied
twice to each element in partitions, so is unsuitable when f is expensive or
has side-effects.

See <a href="http://stackoverflow.com/questions/24738261/lazy-partition-by">http://stackoverflow.com/questions/24738261/lazy-partition-by</a></pre></div></div><div class="public anchor" id="var-set"><h3>set</h3><div class="usage"><code>(set coll)</code></div><div class="doc"><pre class="plaintext">Construct an ExternalSet from coll
</pre></div></div><div class="public anchor" id="var-shuffle"><h3>shuffle</h3><div class="usage"><code>(shuffle coll)</code><code>(shuffle rng coll)</code></div><div class="doc"><pre class="plaintext">Shuffle coll in constant space and return a lazy seq of the results

rng - optional java.util.Random for deterministic testing</pre></div></div><div class="public anchor" id="var-sort"><h3>sort</h3><div class="usage"><code>(sort batchsize coll)</code><code>(sort batchsize compx coll)</code></div><div class="doc"><pre class="plaintext">Sorts coll in constant space and return a lazy seq of the results
batchsize - Integer representing max number of elements to write to a file
compx - 3-way comparator to sort on (returning int, not boolean)
        (Defaults to clojure.core/compare)</pre></div></div><div class="public anchor" id="var-sort-by"><h3>sort-by</h3><div class="usage"><code>(sort-by batchsize keyfn coll)</code></div><div class="doc"><pre class="plaintext">Sort a coll in constant space, where sort order is determined
by (keyfn item)</pre></div></div></div></body></html>